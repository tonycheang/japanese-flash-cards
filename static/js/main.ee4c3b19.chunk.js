(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{181:function(e,t,a){e.exports=a(371)},186:function(e,t,a){},239:function(e,t,a){},370:function(e,t,a){},371:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(8),i=a.n(s),o=(a(186),a(93)),c=a(51),l=a(26),d=a(27),u=a(32),h=a(31),g=a(37),p=a(33),f=function(){function e(t,a,n,r,s){Object(l.a)(this,e),this.front=t,this.back=a,this.prompt=n||"",this.tags=r||[],this.key=s}return Object(d.a)(e,[{key:"isTagged",value:function(e){var t=!0,a=!1,n=void 0;try{for(var r,s=this.tags[Symbol.iterator]();!(t=(r=s.next()).done);t=!0){if(r.value===e)return!0}}catch(i){a=!0,n=i}finally{try{t||null==s.return||s.return()}finally{if(a)throw n}}return!1}},{key:"hasAnswer",value:function(e){return e===this.back}},{key:"answerStartsWith",value:function(e){return e===this.back.slice(0,e.length)}},{key:"includes",value:function(e){return this.front.toLowerCase().includes(e.toLowerCase())||this.back.toLowerCase().includes(e.toLowerCase())||this.prompt.toLowerCase().includes(e.toLowerCase())}}]),e}(),y=function(){function e(){Object(l.a)(this,e),this.appendCard=this.appendCard.bind(this),this.deleteCard=this.deleteCard.bind(this),this.editCard=this.editCard.bind(this),this.getListOfCards=this.getListOfCards.bind(this),this.getListOfTags=this.getListOfTags.bind(this),this.getCardFromKey=this.getCardFromKey.bind(this),this.cards={},this.nextKey=0,this.active=[],this.uniqueCycleOfCards=[],this.tagCounts={},this.activeTags=[]}return Object(d.a)(e,[{key:"getListOfTags",value:function(){return Object.keys(this.tagCounts).reverse()}},{key:"getListOfCards",value:function(){return Object.values(this.cards).reverse()}},{key:"getListOfActiveCards",value:function(){return this.active.slice()}},{key:"getCardFromKey",value:function(e){return this.cards[e]}},{key:"appendCard",value:function(e){var t=this;e.key=this.nextKey,this.nextKey++,this.cards[e.key]=e,e.tags.forEach(function(e){t.tagCounts.hasOwnProperty(e)?t.tagCounts[e]+=1:t.tagCounts[e]=1})}},{key:"deleteCard",value:function(e){var t=this;this.cards[e].tags.forEach(function(e){t.tagCounts[e]-=1}),this._cleanEmptyTags(e),delete this.cards[e]}},{key:"editCard",value:function(e,t){var a=this;this.cards[e].tags.forEach(function(e){a.tagCounts[e]-=1}),t.tags.forEach(function(e){a.tagCounts.hasOwnProperty(e)?a.tagCounts[e]+=1:a.tagCounts[e]=1}),this._cleanEmptyTags(e),this.cards[e]=new f(t.front,t.back,t.prompt,t.tags,e)}},{key:"_cleanEmptyTags",value:function(e){var t=this;this.cards[e].tags.forEach(function(e){0===t.tagCounts[e]&&delete t.tagCounts[e]})}},{key:"rebuildActive",value:function(e){this.activeTags=e||this.activeTags||[],this.active=[];for(var t={},a=0,n=Object.entries(this.cards);a<n.length;a++){var r=n[a],s=Object(c.a)(r,2),i=s[0],o=s[1],l=!0,d=!1,u=void 0;try{for(var h,g=this.activeTags[Symbol.iterator]();!(l=(h=g.next()).done);l=!0){var p=h.value;o.isTagged(p)&&!t[i]&&(this.active.push(o),t[i]=!0)}}catch(f){d=!0,u=f}finally{try{l||null==g.return||g.return()}finally{if(d)throw u}}}this._buildUniqueCycle()}},{key:"_buildUniqueCycle",value:function(){this.uniqueCycleOfCards=this.active.slice();for(var e=this.active.length-1;e>0;e--){var t=Math.floor(Math.random()*(e+1)),a=[this.uniqueCycleOfCards[e],this.uniqueCycleOfCards[t]];this.uniqueCycleOfCards[t]=a[0],this.uniqueCycleOfCards[e]=a[1]}}},{key:"getNextCard",value:function(){if(0!==this.active.length)return this.uniqueCycleOfCards.length<=0&&this._buildUniqueCycle(),this.uniqueCycleOfCards.pop()}},{key:"deckOps",get:function(){return{getListOfTags:this.getListOfTags,getCardFromKey:this.getCardFromKey,getListOfCards:this.getListOfCards,appendCard:this.appendCard,editCard:this.editCard,deleteCard:this.deleteCard}}}],[{key:"buildFromJSON",value:function(t){var a=new e,n=JSON.parse(t);if(Object.keys(n).forEach(function(e){a[e]=n[e]}),a.cards){var r={};Object.entries(a.cards).forEach(function(e){var t=Object(c.a)(e,2),a=t[0],n=t[1],s=n.front,i=n.back,o=n.prompt,l=n.tags;r[Number(a)]=new f(s,i,o,l,Number(a))}),a.cards=r}return a.uniqueCycleOfCards&&(a.uniqueCycleOfCards=a.uniqueCycleOfCards.map(function(e,t){var a=e.front,n=e.back,r=e.prompt,s=e.tags,i=e.key;return new f(a,n,r,s,Number(i))})),a.active&&(a.active=a.active.map(function(e,t){var a=e.front,n=e.back,r=e.prompt,s=e.tags,i=e.key;return new f(a,n,r,s,Number(i))})),a}}]),e}();function m(){function e(e,t,a,n){e.map(function(e,n){return new f(e,t[n],"phonetic",a)}).reverse().forEach(function(e){return n.appendCard(e)})}var t=new y;return e(["\u30d5\u30a1","\u30d5\u30a3","\u30d5\u30a7","\u30d5\u30a9","\u30d5\u30e5","\u30a6\u30a3","\u30a6\u30a7","\u30a6\u30a9","\u30f4\u30a1","\u30f4\u30a3","\u30f4\u30a7","\u30f4\u30a9","\u30c4\u30a1","\u30c4\u30a3","\u30c4\u30a7","\u30c4\u30a9","\u30c1\u30a7","\u30b7\u30a7","\u30b8\u30a7","\u30c6\u30a3","\u30c7\u30a3","\u30c7\u30e5","\u30c8\u30a5"],["fa","fi","fe","fo","fyu","wi","we","wo","va","vi","ve","vo","tsa","tsi","tse","tso","che","she","je","ti","di","du","tu"],["foreign katakana","foreign","katakana","kana"],t),e(["\u30ad\u30e3","\u30ad\u30e5","\u30ad\u30e7","\u30b7\u30e3","\u30b7\u30e5","\u30b7\u30e7","\u30c1\u30e3","\u30c1\u30e5","\u30c1\u30e7","\u30cb\u30e3","\u30cb\u30e5","\u30cb\u30e7","\u30d2\u30e3","\u30d2\u30e5","\u30d2\u30e7","\u30df\u30e3","\u30df\u30e5","\u30df\u30e7","\u30ea\u30e3","\u30ea\u30e5","\u30ea\u30e7","\u30ae\u30e3","\u30ae\u30e5","\u30ae\u30e7","\u30b8\u30e3","\u30b8\u30e5","\u30b8\u30e7","\u30d3\u30e3","\u30d3\u30e5","\u30d3\u30e7","\u30d4\u30e3","\u30d4\u30e5","\u30d4\u30e7"],["kya","kyu","kyo","sha","shu","sho","cha","chu","cho","nya","nyu","nyo","hya","hyu","hyo","mya","myu","myo","rya","ryu","ryo","gya","gyu","gyo","ja","ju","jo","bya","byu","byo","pya","pyu","pyo"],["contracted katakana","contracted","katakana","kana"],t),e(["\u30ac","\u30ae","\u30b0","\u30b2","\u30b4","\u30b6","\u30b8","\u30ba","\u30bc","\u30be","\u30c0","\u30c2","\u30c5","\u30c7","\u30c9","\u30d0","\u30d3","\u30d6","\u30d9","\u30dc","\u30d1","\u30d4","\u30d7","\u30da","\u30dd"],["ga","gi","gu","ge","go","za","ji","zu","ze","zo","da","ji","zu","de","do","ba","bi","bu","be","bo","pa","pi","pu","pe","po"],["voiced katakana","voiced","katakana","kana"],t),e(["\u30a2","\u30a4","\u30a6","\u30a8","\u30aa","\u30ab","\u30ad","\u30af","\u30b1","\u30b3","\u30b5","\u30b7","\u30b9","\u30bb","\u30bd","\u30bf","\u30c1","\u30c4","\u30c6","\u30c8","\u30ca","\u30cb","\u30cc","\u30cd","\u30ce","\u30cf","\u30d2","\u30d5","\u30d8","\u30db","\u30de","\u30df","\u30e0","\u30e1","\u30e2","\u30e4","\u30e6","\u30e8","\u30e9","\u30ea","\u30eb","\u30ec","\u30ed","\u30ef","\u30f2","\u30f3"],["a","i","u","e","o","ka","ki","ku","ke","ko","sa","shi","su","se","so","ta","chi","tsu","te","to","na","ni","nu","ne","no","ha","hi","fu","he","ho","ma","mi","mu","me","mo","ya","yu","yo","ra","ri","ru","re","ro","wa","wo","n"],["basic katakana","basic","katakana","kana"],t),e(["\u304d\u3083","\u304d\u3085","\u304d\u3087","\u3057\u3083","\u3057\u3085","\u3057\u3087","\u3061\u3083","\u3061\u3085","\u3061\u3087","\u306b\u3083","\u306b\u3085","\u306b\u3087","\u3072\u3083","\u3072\u3085","\u3072\u3087","\u307f\u3083","\u307f\u3085","\u307f\u3087","\u308a\u3083","\u308a\u3085","\u308a\u3087","\u304e\u3083","\u304e\u3085","\u304e\u3087","\u3058\u3083","\u3058\u3085","\u3058\u3087","\u3073\u3083","\u3073\u3085","\u3073\u3087","\u3074\u3083","\u3074\u3085","\u3074\u3087"],["kya","kyu","kyo","sha","shu","sho","cha","chu","cho","nya","nyu","nyo","hya","hyu","hyo","mya","myu","myo","rya","ryu","ryo","gya","gyu","gyo","ja","ju","jo","bya","byu","byo","pya","pyu","pyo"],["contracted hiragana","contracted","hiragana","kana"],t),e(["\u304c","\u304e","\u3050","\u3052","\u3054","\u3056","\u3058","\u305a","\u305c","\u305e","\u3060","\u3062","\u3065","\u3067","\u3069","\u3070","\u3073","\u3076","\u3079","\u307c","\u3071","\u3074","\u3077","\u307a","\u307d"],["ga","gi","gu","ge","go","za","ji","zu","ze","zo","da","ji","zu","de","do","ba","bi","bu","be","bo","pa","pi","pu","pe","po"],["voiced hiragana","voiced","hiragana","kana"],t),e(["\u3042","\u3044","\u3046","\u3048","\u304a","\u304b","\u304d","\u304f","\u3051","\u3053","\u3055","\u3057","\u3059","\u305b","\u305d","\u305f","\u3061","\u3064","\u3066","\u3068","\u306a","\u306b","\u306c","\u306d","\u306e","\u306f","\u3072","\u3075","\u3078","\u307b","\u307e","\u307f","\u3080","\u3081","\u3082","\u3084","\u3086","\u3088","\u3089","\u308a","\u308b","\u308c","\u308d","\u308f","\u3092","\u3093"],["a","i","u","e","o","ka","ki","ku","ke","ko","sa","shi","su","se","so","ta","chi","tsu","te","to","na","ni","nu","ne","no","ha","hi","fu","he","ho","ma","mi","mu","me","mo","ya","yu","yo","ra","ri","ru","re","ro","wa","wo","n"],["basic hiragana","basic","hiragana","kana"],t),t.rebuildActive(["basic hiragana"]),t}var C=a(374),v=a(381),k=a(131),b=a(10),O=a(70),w=a(22),E=a(376),S=a(176),j=a(380),T=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={hasError:!1},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?r.a.createElement(E.a,null,r.a.createElement(j.a,{status:"warning",title:"Opps! Something went wrong. Please refresh."})):this.props.children}}]),t}(r.a.Component),I=(a(239),{backgroundColor:"transparent",fontSize:20,textAlign:"center"}),K=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).handleInput=a.handleInput.bind(Object(g.a)(a)),a.reportCorrectness=a.reportCorrectness.bind(Object(g.a)(a)),a.showAnswer=a.showAnswer.bind(Object(g.a)(a)),a.resetInputAfterTyping=a.resetInput.bind(Object(g.a)(a),500),a.resetInputAfterReveal=a.resetInput.bind(Object(g.a)(a),0,!0),a.defaultBackgroundColor="#FFFFFF",a.state={typed:"",textColor:"#000000",backgroundColor:a.defaultBackgroundColor,border:"1px solid",firstTimeTyping:!0,justRevealed:!1},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleInput)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleInput)}},{key:"handleInput",value:function(e){if(this.props.answering){this.state.firstTimeTyping&&this.setState({firstTimeTyping:!1}),"Enter"===e.key&&(this.state.justRevealed?this.resetInputAfterReveal():this.showAnswer());var t=this.state.typed;if("Backspace"===e.key)t.length>0&&this.setState({typed:t.slice(0,t.length-1)});else{if(!/^.$/.test(e.key))return;this.setState(function(t){return{typed:t.typed+e.key}})}this.state.typingTimer&&clearTimeout(this.state.typingTimer),this.setState({typingTimer:setTimeout(this.reportCorrectness,300)})}}},{key:"showAnswer",value:function(e){this.state.firstTimeTyping&&this.setState({firstTimeTyping:!1}),this.setState({justRevealed:!0,typed:this.props.currentCard.back})}},{key:"reportCorrectness",value:function(){if(this.props.answering&&!this.state.justRevealed&&this.props.currentCard.back){var e=this.props.currentCard,t=e.back,a=this.state.typed.toLowerCase();a.length<t.length&&e.answerStartsWith(a)||(e.hasAnswer(a)?(this.setState({backgroundColor:"#f6ffed",border:"1px solid #b7eb8f"}),this.resetInputAfterTyping(!0)):(this.setState({backgroundColor:"#fff1f0",border:"1px solid #ffa39e"}),this.resetInputAfterTyping(!1)))}}},{key:"resetInput",value:function(e,t){var a=this;t&&(this.setState({typed:""}),this.props.changeCard()),setTimeout(function(){return a.setState({backgroundColor:a.defaultBackgroundColor,border:"1px solid"})},e),this.setState({typed:"",typingTimer:null,justRevealed:!1})}},{key:"render",value:function(){var e=this.props.currentCard;e||(e={prompt:r.a.createElement(O.a,{description:"No active cards!",image:O.a.PRESENTED_IMAGE_SIMPLE})});var t,a=this.state.firstTimeTyping?"answer here":"";return t=this.state.justRevealed?r.a.createElement(w.a,{type:"default",size:"large",onClick:this.resetInputAfterReveal,style:{backgroundColor:"transparent",margin:"2%"}},"continue"):r.a.createElement(w.a,{type:"default",size:"large",onClick:this.showAnswer,style:{backgroundColor:"transparent",margin:"2%"}},"show"),r.a.createElement(T,null,r.a.createElement("div",{align:"center"},r.a.createElement(E.a,{className:"Card",style:{backgroundColor:this.state.backgroundColor}},r.a.createElement("div",{style:{fontSize:20,margin:".5%",color:"#bfbfbf"}},e.prompt),r.a.createElement("div",{style:{fontSize:70,margin:"2%"}},e.front),r.a.createElement("div",{align:"center",style:{margin:"2%",width:"80%"}},r.a.createElement(S.a,{autoFocus:!0,ghost:"true",placeholder:a,value:this.state.typed,style:I,onChange:this.handleInput})),r.a.createElement("div",null,t))))}}]),t}(r.a.Component),A=a(79),x=a(378),D=a(379),N=a(382),R=a(98),M=a.n(R),P=function(e){function t(e){var a;Object(l.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).searchFilter=function(e,t){return t.tag.toLowerCase().includes(e.toLowerCase())},a.handleChange=function(e,t,n){a.setState({rightColumnKeys:e})},a.handleSelectChange=function(e,t){a.setState({selectedKeys:[].concat(Object(A.a)(e),Object(A.a)(t))})},a.handleClose=function(){var e=a.state.rightColumnKeys,t=M.a.intersection(e,a.startingRightColumnKeys);if(t.length!==e.length||t.length!==a.startingRightColumnKeys.length){var n=e.map(function(e){return a.keysToTags[e]});a.props.rebuildActive(n);var r={};e.forEach(function(e){return r[a.keysToTags[e]]=!0}),Object.keys(a.tagsToKeys).forEach(function(e){r.hasOwnProperty(e)||(r[e]=!1)}),localStorage.setItem("activeTags",JSON.stringify(r)),a.props.changeCard(),v.a.success("Deck rebuilt!")}a.props.closeModal()};var n=JSON.parse(localStorage.getItem("activeTags"))||{};a.tagsToKeys={},a.keysToTags={},a.props.listOfTags.forEach(function(e,t){a.tagsToKeys[e]=t,a.keysToTags[t]=e});var r=a.props.listOfTags.map(function(e){return{tag:e,key:a.tagsToKeys[e]}}),s=Object.entries(a.tagsToKeys).filter(function(e){var t=Object(c.a)(e,2),a=t[0];t[1];return n[a]||!1}).map(function(e){var t=Object(c.a)(e,2);t[0];return t[1]});return a.startingRightColumnKeys=s,a.state={keyedTags:r,rightColumnKeys:s,selectedKeys:[]},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.state,t=e.rightColumnKeys,a=e.selectedKeys,n=e.keyedTags;return r.a.createElement(T,null,r.a.createElement(x.a,{title:"Active Tags",visible:this.props.visible,onCancel:this.props.closeModal,onOk:this.handleClose},r.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignContent:"center"}},r.a.createElement(D.a,{listStyle:{height:450,width:200},dataSource:n,titles:["Inactive","Active"],targetKeys:t,selectedKeys:a,onChange:this.handleChange,onSelectChange:this.handleSelectChange,render:function(e){return r.a.createElement(N.a,null,e.tag)},filterOption:this.searchFilter,showSearch:!0}))))}}]),t}(r.a.Component),L=a(177),z=a(377),F=a(373),q=a(375),J=a(372),V=a(103),W=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={tags:a.props.tags,inputVisible:!1,inputValue:""},a.handleClose=function(e){var t=a.props.tags.filter(function(t){return t!==e});a.setState({tags:t}),a.props.setTags(t)},a.showInput=function(){a.setState({inputVisible:!0},function(){return a.input.focus()})},a.handleInputChange=function(e){a.setState({inputValue:e.target.value})},a.handleInputConfirm=function(){var e=a.state.inputValue,t=a.state.tags;e&&-1===t.indexOf(e)&&(t=[].concat(Object(A.a)(t),[e])),a.props.setTags(t),a.setState({tags:t,inputVisible:!1,inputValue:""})},a.saveInputRef=function(e){return a.input=e},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e,t=this,a=this.state,n=a.inputVisible,s=a.inputValue,i=this.state.tags;return i&&(e=i.map(function(e,a){var n=e.length>20,s=r.a.createElement(N.a,{key:e,closable:!0,onClose:function(){return t.handleClose(e)}},n?"".concat(e.slice(0,20),"..."):e);return n?r.a.createElement(V.a,{title:e,key:e},s):s})),r.a.createElement("div",null,e,n&&r.a.createElement(S.a,{ref:this.saveInputRef,type:"text",size:"small",style:{width:78},value:s,onChange:this.handleInputChange,onBlur:this.handleInputConfirm,onPressEnter:this.handleInputConfirm}),!n&&r.a.createElement(N.a,{onClick:this.showInput,style:{background:"#fff",borderStyle:"dashed"}},r.a.createElement(b.a,{type:"plus"})," New Tag"))}}]),t}(r.a.Component),B=a(168),_=a.n(B);function U(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function $(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?U(a,!0).forEach(function(t){Object(o.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):U(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var G=S.a.Search,H=r.a.createContext(),Q=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(s)))).renderCell=function(e){var t,n=e.getFieldDecorator,s=a.props,i=s.editing,o=s.dataIndex,c=(s.title,s.inputType,s.record),l=(s.index,s.children),d=Object(L.a)(s,["editing","dataIndex","title","inputType","record","index","children"]);return t=i?r.a.createElement(z.a.Item,{style:{margin:0}},n(o,{initialValue:c[o]})(r.a.createElement(S.a,null))):l,r.a.createElement("td",d,t)},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement(H.Consumer,null,this.renderCell)}}]),t}(r.a.Component),X=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).shouldComponentUpdate=function(e,t){var n=a.state,r=n.searchInput,s=n.filters,i=M.a.intersection(s,t.filters),o=i.length!==s.length||i.length!==t.filters.length,c=r!==t.searchInput,l=!0===a.state.creatingNewCard&&!1===t.creatingNewCard;if(e.deckChanged||c||o||l){var d=a.filterData(e,t);return a.setState({data:d}),a.props.reportDealtWithChange(),!1}return!0},a.filterData=function(e,t){var a=e.dataSource;return""!==t.searchInput&&(a=a.filter(function(e){return e.includes(t.searchInput)||e.isNewCard})),0!==t.filters.length&&(a=a.filter(function(e){var a=!0,n=!1,r=void 0;try{for(var s,i=t.filters[Symbol.iterator]();!(a=(s=i.next()).done);a=!0){var o=s.value;if(e.isTagged(o)||e.isNewCard)return!0}}catch(c){n=!0,r=c}finally{try{a||null==i.return||i.return()}finally{if(n)throw r}}return!1})),a},a.handleTableChange=function(e,t,n,r){t.tags&&a.setState({filters:t.tags}),a.setState({sortedInfo:n,currentPage:e.current})},a.onSelectChange=function(e){a.setState({selectedRowKeys:e})},a.onSelectAll=function(e,t,n){var r=a.state.data;if(v.a.destroy(),e)if("all-data"===a.selectAllMode)a.setState({selectedRowKeys:r.map(function(e){return e.key})}),v.a.info("Selected ".concat(r.length," cards across pages."));else{if("page-data"!==a.selectAllMode)throw Error("Assertion Error: invalid state for EdtiableTable selectAllMode");a.setState({selectedRowKeys:t.map(function(e){return e.key})}),v.a.info("Selected ".concat(t.length," cards from this page."))}else if("all-data"===a.selectAllMode)a.setState({selectedRowKeys:[]}),v.a.info("Deselected all cards.");else{if("page-data"!==a.selectAllMode)throw Error("Assertion Error: invalid state for EdtiableTable selectAllMode");var s=t.map(function(e){return e.key});a.setState({selectedRowKeys:s}),s.length>0?v.a.info("Deselected page. ".concat(s.length," cards still selected.")):v.a.info("Deselected all cards.")}},a.deleteSelectedRows=function(){var e=a.state.selectedRowKeys;a.props.deckOps.deleteCards(e),v.a.destroy(),v.a.success("Deleted ".concat(e.length," cards!")),a.setState({selectedRowKeys:[]})},a.makeNewRow=function(){var e=new f("","");e.isNewCard=!0,a.props.deckOps.appendCard(e),a.setState({sortedInfo:null,currentPage:1,selectedRowKeys:[],rowTags:[],creatingNewCard:!0,editingKey:e.key})},a.isEditing=function(e){return e.key===a.state.editingKey},a.edit=function(e){var t=a.props.deckOps.getCardFromKey(e).tags||[];a.setState({editingKey:e,rowTags:t})},a.cancel=function(){if(a.state.creatingNewCard){var e=a.state.editingKey;a.setState({creatingNewCard:!1}),a.props.deckOps.deleteCard(e)}a.setState({editingKey:""})},a.save=function(e,t){e.validateFields(function(e,n){e||(v.a.destroy(),n.front||n.back?n.front?n.back?(n.tags=a.state.rowTags,a.props.deckOps.editCard(t,n),a.state.creatingNewCard?v.a.success("Created card!"):v.a.success("Edited card!"),a.setState({editingKey:"",creatingNewCard:!1,rowTags:[]})):v.a.error("Card needs a back!"):v.a.error("Card needs a front!"):v.a.error("Cannot add empty card!"))})},a.setColumns=function(){var e=function(e){return r.a.createElement(_.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[a.state.searchInput],autoEscape:!0,textToHighlight:e.toString()})};a.tagsColumnIndex=2,a.columns=[{title:"Front",dataIndex:"front",key:"front",width:"10%",editable:!0,sorter:function(e,t){return e.front.localeCompare(t.front)},render:e},{title:"Back",dataIndex:"back",key:"back",width:"10%",editable:!0,sorter:function(e,t){return e.back.localeCompare(t.back)},render:e},{title:"Prompt",dataIndex:"prompt",key:"prompt",width:"10%",editable:!0,render:e},{title:"Tags",dataIndex:"tags",key:"tags",filters:a.props.deckOps.getListOfTags().map(function(e){return{text:e,value:e}}).sort(function(e,t){return e.text.localeCompare(t.text)}),render:function(e,t,n){return a.isEditing(t)?r.a.createElement(W,{tags:a.state.rowTags,setTags:function(e){a.setState({rowTags:e})}}):t.tags?t.tags.map(function(e,t){return r.a.createElement(N.a,{key:t},e)}):void 0}},{title:"Operations",dataIndex:"operations",key:"operations",width:"10%",render:function(e,t){var n=a.state.editingKey;return a.isEditing(t)?r.a.createElement("span",null,r.a.createElement(H.Consumer,null,function(e){return r.a.createElement(w.a,{size:"small",type:"link",onClick:function(){a.save(e,t.key)}},"Save")}),r.a.createElement(J.a,{type:"vertical"}),r.a.createElement(F.a,{title:"OK to cancel?",onConfirm:function(){a.cancel(t.key)}},r.a.createElement(w.a,{size:"small",type:"link"},"Cancel"))):r.a.createElement("span",null,r.a.createElement(w.a,{disabled:""!==n,size:"small",type:"link",onClick:function(){a.edit(t.key)}},"Edit"))}}]},a.state={searchInput:"",editingKey:"",selectedRowKeys:[],currentPage:1,refresh:!1,rowTags:[],sortedInfo:null,data:a.props.dataSource,filters:[]},a.selectAllMode="page-data",a.setColumns(),a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.sortedInfo,n=t.selectedRowKeys,s=t.data,i={body:{cell:Q}};a=a||{};var o={selectedRowKeys:n,onChange:this.onSelectChange,onSelectAll:this.onSelectAll,hideDefaultSelections:!0,selections:[{key:"all-data",text:"Select-All Mode",onSelect:function(){v.a.destroy(),v.a.info("Select All Mode Enabled"),e.selectAllMode="all-data"}},{key:"page-data",text:"Select-Page Mode",onSelect:function(){v.a.destroy(),v.a.info("Select Page Mode Enabled"),e.selectAllMode="page-data"}}]},c=this.columns.map(function(t){return t.editable?$({},t,{sortOrder:a.columnKey===t.key&&a.order,onCell:function(a){return{record:a,dataIndex:t.dataIndex,title:t.title,editing:e.isEditing(a)}}}):t});return r.a.createElement(H.Provider,{value:this.props.form},r.a.createElement(q.a,{components:i,onChange:this.handleTableChange,rowSelection:o,dataSource:s,columns:c,pagination:{onChange:this.cancel,current:this.state.currentPage},title:function(){var t,a=e.state.selectedRowKeys,n=e.props.dataSource;if(n&&n.length>0){var s="Delete ".concat(a.length," Selected?");t=r.a.createElement(F.a,{title:s,okType:"primary",okText:"Delete",onConfirm:e.deleteSelectedRows,disabled:0===a.length},r.a.createElement(w.a,{ghost:!0,type:"danger",disabled:0===a.length},r.a.createElement(b.a,{type:"minus"}),"Delete"))}else t=r.a.createElement(w.a,{onClick:e.props.deckOps.resetDeck},r.a.createElement(b.a,{type:"rollback"}),"Default");return r.a.createElement("span",{style:{display:"inline-flex",width:"100%",justifyContent:"flex-end"}},r.a.createElement(G,{placeholder:"Search",style:{marginRight:"1.5%"},onChange:function(t){var a=t.target.value;e.setState({searchInput:a})}}),r.a.createElement("div",{style:{marginRight:"1.5%"}},t),r.a.createElement(w.a,{ghost:!0,type:"primary",onClick:e.makeNewRow,disabled:""!==e.state.editingKey},r.a.createElement(b.a,{type:"plus"}),"New Card"))},bordered:!0}))}}]),t}(r.a.Component),Y=z.a.create({name:"Editable Form Table"})(X),Z=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={listOfCards:a.props.listOfCards,deckChanged:!1},a.reportDealtWithChange=function(){a.setState({deckChanged:!1})},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement(T,null,r.a.createElement(E.a,{style:{margin:"1.5% 5% 2% 5%"}},r.a.createElement(Y,{dataSource:this.state.listOfCards,reportDealtWithChange:this.reportDealtWithChange,deckChanged:this.state.deckChanged,deckOps:this.deckOps})))}},{key:"deckOps",get:function(){var e=this,t=function(t){return function(){t.apply(void 0,arguments),e.setState({listOfCards:e.props.deckOps.getListOfCards(),deckChanged:!0})}},a=t(this.props.deckOps.appendCard),n=t(this.props.deckOps.deleteCard),r=t(this.props.deckOps.deleteCards),s=t(this.props.deckOps.editCard),i=t(this.props.deckOps.resetDeck);return $({},this.props.deckOps,{appendCard:a,deleteCard:n,deleteCards:r,editCard:s,resetDeck:i})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return{listOfCards:e.listOfCards}}}]),t}(r.a.Component);a(370);function ee(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var te=C.a.Content,ae=function(e){function t(e){var a;Object(l.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).selectMenuItem=a.selectMenuItem.bind(Object(g.a)(a)),a.closeModal=a.closeModal.bind(Object(g.a)(a)),a.changeCard=a.changeCard.bind(Object(g.a)(a));var n=[],r=JSON.parse(localStorage.getItem("activeTags"));r?Object.entries(r).forEach(function(e){var t=Object(c.a)(e,2),a=t[0];t[1]&&n.push(a)}):(n.push("basic hiragana"),localStorage.setItem("activeTags",JSON.stringify({"basic hiragana":!0})),v.a.success("Loaded default settings!"));var s=localStorage.getItem("savedDeck"),i=s?y.buildFromJSON(s):m();return s&&i.rebuildActive(n),a.menuKeys=Object.freeze({review:"review",manage:"manage",stats:"stats",login:"login",tags:"tags"}),a.state={deck:i,currentCard:i.getNextCard(),menuOpen:!1,prevSelected:a.menuKeys.review,selected:a.menuKeys.review,manageDeckChanged:!1},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"closeModal",value:function(){this.setState({selected:this.state.prevSelected})}},{key:"selectMenuItem",value:function(e){this.state.selected===this.menuKeys.manage&&this.state.manageDeckChanged&&(this.state.deck.rebuildActive(),this.setState({currentCard:this.state.deck.getNextCard(),manageDeckChanged:!1})),this.setState({selected:e.key,prevSelected:this.state.selected})}},{key:"changeCard",value:function(){this.setState({currentCard:this.state.deck.getNextCard()})}},{key:"render",value:function(){var e,t=this,a=this.menuKeys,n=r.a.createElement(k.a,{mode:"horizontal",style:{height:"5%"},onClick:this.selectMenuItem,selectedKeys:[this.state.selected]},r.a.createElement(k.a.Item,{id:a.review,key:a.review},r.a.createElement(b.a,{type:"home"}),"Review"),r.a.createElement(k.a.Item,{id:a.manage,key:a.manage},r.a.createElement(b.a,{type:"edit"}),"Manage Deck"),r.a.createElement(k.a.Item,{id:a.stats,key:a.stats,disabled:!0},r.a.createElement(b.a,{type:"line-chart"}),"Stats"),r.a.createElement(k.a.Item,{id:a.login,key:a.login,style:{float:"right"},disabled:!0},r.a.createElement(b.a,{type:"login"}),"Log In"),r.a.createElement(k.a.Item,{id:a.tags,key:a.tags,style:{float:"right"}},r.a.createElement(b.a,{type:"setting"}),"Active Tags"));switch(this.state.selected){case a.tags:e=r.a.createElement(P,{listOfTags:this.state.deck.getListOfTags(),closeModal:this.closeModal,rebuildActive:function(e){t.state.deck.rebuildActive(e)},changeCard:this.changeCard,visible:this.state.selected===a.tags});break;case a.manage:this.activeMain=r.a.createElement(Z,{visible:this.state.selected===a.manage,listOfCards:this.state.deck.getListOfCards(),deckOps:this.deckOps});break;case a.review:this.activeMain=r.a.createElement("div",null,r.a.createElement("div",{style:{marginTop:"1%"}},r.a.createElement("header",null," Customized Study Session ")),r.a.createElement(K,{currentCard:this.state.currentCard,changeCard:this.changeCard,answering:this.state.selected===a.review}))}return r.a.createElement(C.a,null,n,r.a.createElement(T,null,e,r.a.createElement(te,null,this.activeMain)))}},{key:"deckOps",get:function(){var e=this,t=this.state.deck,a=function(t,a){return function(){t.apply(void 0,arguments),e.setState({manageDeckChanged:!0}),localStorage.setItem("savedDeck",JSON.stringify(a))}},n=a(t.appendCard,t),r=a(t.editCard,t),s=a(t.deleteCard,t),i=a(function(e){e.forEach(function(e){return t.deleteCard(e)})},t);return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ee(a,!0).forEach(function(t){Object(o.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ee(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},t.deckOps,{appendCard:n,editCard:r,deleteCard:s,deleteCards:i,resetDeck:function(){var t=m();e.setState({deck:t,currentCard:t.getNextCard()}),v.a.destroy(),v.a.success("Reset to default deck."),localStorage.setItem("activeTags",JSON.stringify({"basic hiragana":!0})),localStorage.setItem("savedDeck",JSON.stringify(t))}})}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(T,null,r.a.createElement(ae,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[181,1,2]]]);
//# sourceMappingURL=main.ee4c3b19.chunk.js.map